function initialize() {
	if (process.getuid) {
		var uid = parseInt(process.env['SUDO_UID']
				|| process.getuid(), 10),
			gid = parseInt(process.env['SUDO_GID']
				|| process.getgid(), 10),
			su = true;

		try {
			process.setgid(0);
		} catch (err) {
			su = false;
		}

		if (su) {
			module.exports = require('./client');
			module.exports.downgrade = function () {
				process.setgid(gid);
				process.setuid(uid);
			};
			return;
		}
	}

	// Dummify.
	module.exports = function (fn) {
		return fn;
	};
	module.exports.downgrade = function () {};
}

initialize();
